<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Counting Subspaces Over Finite Fields</title>
  <meta name="description" content="In this post, my goal is to verify some useful identities that hold about Gaussian binomial coefficients, which are namely used in the context of counting th...">

  <link rel="stylesheet" href="/assets/main.css">
  <link rel="canonical" href="http://localhost:4000/2017/02/20/counting-subspaces-over-finite-fields.html">
  <link rel="alternate" type="application/rss+xml" title="Mark Farrell" href="/feed.xml">

  <script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script>
  
  
</head>

  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">

    <a class="site-title" href="/">Mark Farrell</a>

    <nav class="site-nav">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </span>

      <div class="trigger">
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Counting Subspaces Over Finite Fields</h1>
    <p class="post-meta"><time datetime="2017-02-20T00:00:00-05:00" itemprop="datePublished">Feb 20, 2017</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>In this post, my goal is to verify some useful identities that hold about Gaussian binomial coefficients, which are namely used in the context of counting the number of subspaces of a certain dimension of a finite-dimensional vector space over a finite field.</p>

<p>Fix a prime power <script type="math/tex">q</script>.</p>

<p>Define:</p>

<ol>
  <li>
    <script type="math/tex; mode=display">{ \cdot \brack \cdot}_q : \mathbb{N}_{0} \times \mathbb{N}_{0} \to \mathbb{R}</script>

    <script type="math/tex; mode=display">% <![CDATA[
{n \brack k }_q := \begin{cases} \prod\limits_{j = 1}^{k} \frac{q^{n} - q^{j - 1}}{q^{k} - q^{j - 1}} & \text{ if } 0 < k \leq n \\ 1 & \text { if } k = 0 \\ 0 & \text{ otherwise } \end{cases} %]]></script>

    <p><em>Note that <script type="math/tex">{n \brack k }_q</script> gives the number of <script type="math/tex">k</script>-dimensional subspaces of an <script type="math/tex">n</script>-dimensional vector space over a finite field of order <script type="math/tex">q</script> for all <script type="math/tex">n,k \in \mathbb{N}</script>.</em></p>
  </li>
  <li>
    <script type="math/tex; mode=display">[\cdot]_q ! : \mathbb{N}_{0} \to \mathbb{R}</script>

    <script type="math/tex; mode=display">% <![CDATA[
[n]_q ! := \begin{cases} \prod\limits_{j = 1}^{n} {n - (j - 1) \brack 1}_q & \text{ if } n \in \mathbb{N} \\ 1 & \text{ if } n = 0 \end{cases} %]]></script>
  </li>
</ol>

<p>Then, in this context I would propose that:</p>

<ol>
  <li>
    <script type="math/tex; mode=display">{ n \brack k }_{q} = \frac{ [n]_q ! }{ {[k]_q !} {[n-k]_q !}}</script>

    <p>for all <script type="math/tex">n, k \in \mathbb{N} \text{ such that } k \leq n</script>.</p>
  </li>
  <li>
    <script type="math/tex; mode=display">{ n \brack k }_{q} =  {n - 1 \brack k }_{q} + q^{n-k} { n - 1 \brack k - 1 }_{q}  = q^{k} { n - 1 \brack k }_{q} + {n - 1 \brack k - 1}_{q}</script>

    <p>for all <script type="math/tex">% <![CDATA[
n, k \in \mathbb{N} \text{ such that } k < n %]]></script>.</p>
  </li>
  <li>
    <p>For all algebras <script type="math/tex">\mathcal{A}</script> over <script type="math/tex">\mathbb{R}</script> and <script type="math/tex">X, Y \in \mathcal{A}</script> such that <script type="math/tex">YX = qXY</script>,</p>

    <script type="math/tex; mode=display">(X + Y)^{n} = \sum\limits_{k = 0}^{n} {n \brack k}_q X^k Y^{n-k}</script>

    <p>for all <script type="math/tex">n \in \mathbb{N}</script>.</p>
  </li>
  <li>
    <script type="math/tex; mode=display">{n \brack k}_q = \sum\limits_{j=0}^{m} q^{(m - j)(k - j)} { m \brack j }_q  { n - m \brack k - j }_q</script>

    <p>for all <script type="math/tex">n, k, m \in \mathbb{N}</script> such that <script type="math/tex">m \leq k \leq n</script>.</p>
  </li>
</ol>

<p>I would now like to verify that these propositions are true in this context. Then:</p>

<ol>
  <li>
    <p>Select arbitrary natural numbers <script type="math/tex">n</script> and <script type="math/tex">k</script> such that <script type="math/tex">k \leq n</script>.</p>

    <script type="math/tex; mode=display">\implies { n \brack k }_{q}</script>

    <script type="math/tex; mode=display">= \prod\limits_{j = 1}^{k} \frac{q^{n} - q^{j - 1}}{q^{k} - q^{j - 1}}</script>

    <script type="math/tex; mode=display">= \left ( \prod\limits_{j = 1}^{k} \frac{q^{n} - q^{j - 1}}{q^{k} - q^{j - 1}} \right ) \left ( \prod\limits_{j = k + 1}^{n} \frac{q^{n} - q^{j-1}}{q^{k} - q^{j - 1}} \right )</script>

    <script type="math/tex; mode=display">= \frac{ \left( \prod\limits_{j = 1}^{n}  q^{n} - q^{j - 1} \right )}{\left ( \prod\limits_{j = 1}^{k} q^{k} - q^{j - 1} \right ) \left ( \prod\limits_{j = k + 1}^{n} q^{k} - q^{j - 1} \right ) }</script>

    <script type="math/tex; mode=display">= \frac{ \left ( \prod_\limits{j = 1}^{n} q^{j - 1} \right ) \left( \prod\limits_{j = 1}^{n}  q^{n - (j - 1)} - 1 \right )}{\left ( \left ( \prod_\limits{j = 1}^{k} q^{j - 1} \right ) \left ( \prod\limits_{j = 1}^{k} q^{k - (j - 1)} - 1 \right ) \right ) \left ( \left ( \prod_\limits{j = k + 1}^{n} q^{j - 1} \right ) \left ( \prod\limits_{j = k + 1}^{n} q^{k - (j - 1)} - 1 \right ) \right ) }</script>

    <script type="math/tex; mode=display">= \frac{ \left( \prod\limits_{j = 1}^{n}  q^{n - (j - 1)} - 1 \right )}{ \left ( \prod\limits_{j = 1}^{k} q^{k - (j - 1)} - 1 \right ) \left ( \prod\limits_{j = k + 1}^{n} q^{k - (j - 1)} - 1 \right ) }</script>

    <script type="math/tex; mode=display">= \frac{ \left( \prod\limits_{j = 1}^{n}  \frac{q^{n - (j - 1)} - 1}{q-1} \right )}{ \left ( \prod\limits_{j = 1}^{k} \frac{q^{k - (j - 1)} - 1}{q-1} \right ) \left ( \prod\limits_{j = k + 1}^{n} \frac{q^{k - (j - 1)} - 1}{q-1} \right ) }</script>

    <script type="math/tex; mode=display">= \frac{ [n]_q ! }{ {[k]_q !} {[n-k]_q !}}</script>

    <p>and the general result then follows.</p>
  </li>
  <li>
    <p>Select arbitrary natural numbers <script type="math/tex">n</script> and <script type="math/tex">k</script> such that <script type="math/tex">% <![CDATA[
k < n %]]></script>.</p>

    <script type="math/tex; mode=display">\implies { n \brack k }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{n} - 1}{q^{k} - 1} \right ) { n - 1 \brack k - 1 }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{n} - q^{n-k} + q^{n-k} - 1}{q^{k} - 1} \right ) { n - 1 \brack k - 1 }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{n-k}(q^{k} - 1) + (q^{n-k} - 1)}{q^{k} - 1} \right ) { n - 1 \brack k - 1 }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{n -k} - 1}{q^{k} - 1} \right ) { n - 1 \brack k - 1 }_{q} + q^{n-k} \left ( \frac{q^{k} - 1}{q^{k} - 1} \right ) { n - 1 \brack k - 1 }_{q}</script>

    <script type="math/tex; mode=display">= {n - 1 \brack k }_{q} + q^{n-k} { n - 1 \brack k - 1 }_{q}</script>

    <p>and</p>

    <script type="math/tex; mode=display">{ n \brack k }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{n} - 1}{q^{n-k} - 1} \right ) { n - 1 \brack k }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{n} - q^{k} + q^{k} - 1}{q^{n-k} - 1} \right ) { n - 1 \brack k }_{q}</script>

    <script type="math/tex; mode=display">= \left ( \frac{q^{k}(q^{n-k} - 1) + (q^{k} - 1)}{q^{n-k} - 1} \right ) { n - 1 \brack k }_{q}</script>

    <script type="math/tex; mode=display">= q^{k} { n - 1 \brack k }_{q} + \left ( \frac{q^{k} - 1}{q^{n-k} - 1} \right) { n - 1 \brack k }_{q}</script>

    <script type="math/tex; mode=display">= q^{k} { n - 1 \brack k }_{q} + {n - 1 \brack k - 1}_{q}</script>

    <script type="math/tex; mode=display">\implies  { n \brack k }_{q} =  {n - 1 \brack k }_{q} + q^{n-k} { n - 1 \brack k - 1 }_{q}  = q^{k} { n - 1 \brack k }_{q} + {n - 1 \brack k - 1}_{q}</script>

    <p>and the general result then follows.</p>
  </li>
  <li>
    <p>Suppose that <script type="math/tex">\mathcal{A}</script> is an algebra over <script type="math/tex">\mathbb{R}</script>, <script type="math/tex">X,Y \in \mathcal{A}</script>, and <script type="math/tex">YX = qXY</script>.</p>

    <p>Assume that <script type="math/tex">(X + Y)^k = \sum\limits_{j = 0}^{k} {k \brack j}_q X^j Y^{k-j}</script> for some <script type="math/tex">k \in \mathbb{N}</script>.</p>

    <script type="math/tex; mode=display">\implies (X+Y)^{k+1}</script>

    <script type="math/tex; mode=display">= \left (\sum\limits_{j=0}^{k} {k \brack j}_q X^j Y^{k-j} \right ) (X + Y)</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{k} \left ( q^{k-j} {k \brack j}_q \right ) X^{(j+1)} Y^{k-j} + \sum\limits_{j=0}^{k} {k \brack j}_q X^j Y^{k-(j-1)}</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=1}^{k} \left ( q^{k-(j-1)} {k \brack j-1}_q \right ) X^j Y^{k-(j-1)} + \sum\limits_{j=0}^{k} \left ( {k \brack j}_q \right ) X^j Y^{k-(j-1)}</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=1}^{k} \left ( q^{k-(j-1)} {k \brack j-1}_q \right ) X^j Y^{k-(j-1)} + \sum\limits_{j=1}^{k} \left ( {k \brack j}_q \right ) X^j Y^{k-(j-1)} + Y^{k+1}</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=1}^{k} \left ({k \brack j} +  q^{k-(j-1)} {k \brack j-1}_q \right ) X^j Y^{k-(j-1)} + Y^{k+1}</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=1}^{k} {k+1 \brack j}_q X^j Y^{k-(j-1)} + Y^{k+1}</script>

    <p><strong>[</strong> by <strong>2.</strong> <strong>]</strong></p>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{k} {k+1 \brack j}_q X^j Y^{(k+1) - j}</script>

    <script type="math/tex; mode=display">\implies (X + Y)^n = \sum\limits_{j = 0}^{n} {n \brack j}_q X^j Y^{n-j} \text{ for all } n \in \mathbb{N}</script>

    <p><strong>[</strong> since clearly <script type="math/tex">X + Y = {1 \brack 0 }_q X + {1 \brack 1}_q Y = \sum\limits_{j = 0}^{1} {1 \brack j}_q X^j Y^{1-j}</script> as well <strong>]</strong> .</p>
  </li>
  <li>
    <p>Select arbitrary <script type="math/tex">n, k \in \mathbb{N}</script> such that <script type="math/tex">k \leq n</script>, and assume that <script type="math/tex">{n \brack k}_q = \sum\limits_{j=0}^{r} q^{(r - j)(k - j)} { r \brack j }_q  { n - r \brack k - j }_q</script> for some <script type="math/tex">% <![CDATA[
r < k %]]></script>.</p>

    <script type="math/tex; mode=display">\implies {n \brack k}_q</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{r} \left ( q^{(r - j)(k - j)} { r \brack j }_q \right ) { n - r \brack k - j }_q</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{r} \left ( q^{(r - j)(k - j)} { r \brack j }_q \right ) \left ( q^{(k - j)} { n - (r+1) \brack k - j }_q + { n - (r + 1) \brack k - (j+1) }_q \right )</script>

    <p><strong>[</strong> by <strong>2.</strong> <strong>]</strong></p>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{r} \left ( q^{((r+1) - j)(k - j)} { r \brack j }_q \right ) { n - (r+1) \brack k - j }_q + \sum\limits_{j=0}^{r} \left ( q^{(r - j)(k - j)} { r \brack j }_q \right ) { n - (r+1) \brack k - (j+1) }_q</script>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{r} \left ( q^{((r+1) - j)(k - j)} { r \brack j }_q \right ) { n - (r+1) \brack k - j }_q + \sum\limits_{j=1}^{r+1} \left ( q^{(r - (j - 1))(k - (j-1))} { r \brack (j - 1) }_q \right ) { n - (r+1) \brack k - j }_q</script>

    <script type="math/tex; mode=display">= q^{(r+1)(k)} {n - (r+1) \brack k}_q + \sum\limits_{j=1}^{r} \left ( q^{((r+1) - j)(k - j)} { r \brack j }_q  + q^{(r - (j - 1))(k - (j-1))} { r \brack (j - 1) }_q\right ) { n - (r+1) \brack k - j }_q + { n - (r+1) \brack k - (r+1)}_q</script>

    <script type="math/tex; mode=display">= q^{(r+1)(k)} {n - (r+1) \brack k}_q + \sum\limits_{j=1}^{r} \left ( q^{((r+1) - j)(k - j)} \left ( { r \brack j }_q  + q^{(r + 1) - j} { r \brack (j - 1) }_q\right ) \right) { n - (r+1) \brack k - j }_q + { n - (r+1) \brack k - (r+1)}_q</script>

    <script type="math/tex; mode=display">= q^{(r+1)(k)} {n - (r+1) \brack k}_q + \sum\limits_{j=1}^{r} \left ( q^{((r+1) - j)(k - j)} { r + 1 \brack j }_q \right ) { n - (r+1) \brack k - j }_q + { n - (r+1) \brack k - (r+1)}_q</script>

    <p><strong>[</strong> again by <strong>2.</strong> <strong>]</strong></p>

    <script type="math/tex; mode=display">= \sum\limits_{j=0}^{r+1} q^{((r + 1) - j)(k - j)} { r + 1 \brack j }_q { n - (r + 1) \brack k - j }_q</script>

    <p>as well.</p>

    <script type="math/tex; mode=display">\implies {n \brack k}_q = \sum\limits_{j=0}^{m} q^{(m - j)(k - j)} { m \brack j }_q  { n - m \brack k - j }_q \text { for all } m \leq k \leq n</script>

    <p><strong>[</strong> since, by <strong>2.</strong>, it is also the case that <script type="math/tex">{n \brack k }_q = q^{k} { n - 1 \brack k }_{q} + {n - 1 \brack k - 1}_{q} = \sum\limits_{j=0}^{m} q^{(m - j)(k - j)} { m \brack j }_q  { n - m \brack k - j }_q</script> when <script type="math/tex">m = 1</script> <strong>]</strong>.</p>

    <p>The general result then follows, since <script type="math/tex">n</script> and <script type="math/tex">k</script> are arbitrary.</p>
  </li>
</ol>

  </div>

  
</article>
      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Mark Farrell</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li>
            
              Mark Farrell
            
            </li>
            
            <li><a href="mailto:m4farrel@uwaterloo.ca">m4farrel@uwaterloo.ca</a></li>
            
        </ul>
      </div>

      <div class="footer-col footer-col-2">
        <ul class="social-media-list">
          

          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p></p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
